<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
</head>
<body>
	<p><span id="one"></span></p>
	<p><span id="two"></span></p>
	
	<script type="text/javascript">
		function time(name, action) {
			var start = Date.now();
			action();
			console.log(name + " заняло " + (Date.now() - start) + " ms");
		}

		time("тупо", function() {
			var target = document.getElementById("one");
			while (target.offsetWidth < 2000) {
				target.appendChild(document.createTextNode("X"));
			}
		});

		time("умно", function() {
			var target = document.getElementById("two");
			target.appendChild(document.createTextNode("XXXXX"));
			var total = Math.ceil(2000 / (target.offsetWidth / 5));
			for (var i = 5; i < total; i++) {
				target.appendChild(document.createTextNode("X"));
			}
		});
	</script>
</body>
</html>